### 进入标注界面

```
python interactive_demo.py  --video ./demo_data/make_glass.mp4  --workspace ./workspace/make_glass --num_objects 1 --gpu 0 
```

稍等片刻用于加载数据和视频

即可进入标注界面



### **UI界面和快捷键介绍：**

### **主界面：**



tip: 自动化标注工具的能力有限，往往对于轮廓不清晰，或者太小的物体无法准确标注，因此需要使用画笔和橡皮擦工具进行修正



### 基础功能与快捷键：

-  `target_obj_id`: 更换标注对象, eg：  `1`数字键 标注 obj_id为1的物体

- 单帧标注模式的切换：

  - `A`键 （默认）： 自动模式

    - 通过鼠标左键点击，利用自动化标注选中物体
    - 通过鼠标右键点击，利用自动化标注取消物体

  - `I`键： 画笔模式

  - `E`键： 擦除模式

    - 在画笔模式和擦除模式：

      可通过`-` 和 `=` 调整画笔大小

      可以通过数字`0` 键 开启放大镜模式

      - 通过`[`和 `]` 可以调整放大镜大小

- 多帧扩散

  - `F`键： 单机可以根据当前的mask信息以及已经标注的帧的信息，自动化往后标注，再次点击则暂停
  - `B`键： 单机可以根据当前的mask信息以及已经标注的帧的信息，自动化往前标注，再次点击则暂停

💡tip: 标注技巧： 先把第一帧的mask标注后，用F 键扩散一帧，观测是否有遗漏或者错误，用单帧模式修复后，在扩散下一帧，逐帧观察修补

- 不确定Mask的标注功能：

  通过按键`V` ， 可以进入Paint_VOID_MASK 的模式，可以将那些由于运动或者画质带来的模糊相似勾画出来，这一部分的像素将不会计入最终的评分

  通过按键`X`， 可以进入Erase_VOID_MASK 的模式，可以已经图画出来的VOID_MASK擦除

  tip1: VOID_MASK 在UI中以淡白色显示

  tip2: 通过按键`A` , `I` , `E`  可以回到自动模式， 画笔模式，擦除模式

  在M-cube-VOS中，不确定Mask：

  - 由于运动模糊带来的物体轮廓不清楚，只标注轮廓清晰的部分的Object Mask，把模糊的部分用Void Mask进行标注，比如快速移动的物体的尾影
  - 物体碎屑小到看不清楚，则用Void Mask进行标注，比如水花喷溅时过于模糊且细小的水滴
  - 不清晰的透明容器轮廓，用Void Mask标注，比如透明水瓶的一定厚度的瓶壁
  - 两个物体混合到分不清楚边界，用Void Mask进行标注，比如两个鸡蛋打碎后放在同一个碗，蛋白部分很难分清楚边界



- **色差蒙版模式：**

  在Paint_MASK、Erase_MASK 、Paint_VOID_MASK 、Erase_VOID_MASK 模式下，点击键`T` ，可进入选择颜色模式，选择图片中你的目标像素颜色后，会进入**色差蒙版模式**

  - 在色差蒙版模式下，可以通过`向上\\下滚动鼠标滑轮`，增大\减小色差容忍度，以扩大、缩小蒙版范围
  - 在色差蒙版模式下，你可以点击键`Y`  标注当前蒙版所暴露出来的像素
  - 再次点击键`T` ， 会退出色差蒙版模式

  使用技巧：

  - 面对烟雾、水雾等颜色相对于背景颜色较为突出的场景时
  - 先点击键`I` , 进入Paint_MASK ，模式
  - 再点击键`T` ，可进入选择颜色模式
  - 选择图片中你的目标对象的颜色后，进入**色差蒙版模式**
  - 在色差蒙版模式下，小心`向上\\下滚动鼠标滑轮` ， 尽可能完整的包含目标对象
  - 然后点击键`Y`  标注当前蒙版所暴露出来的像素
  - 然后点击键`T` ,退出色差蒙版模式
  - 然后再进入PAINT_Mask模式 或者 Erase_MASK模式，对色差蒙版的Mask进行精修

- 可视化mask颜色调整功能： 点击界面左下角靠**右边的颜色块**，可以弹出颜色选择器，选择颜色后，点击OK即可![viz_mask_adjust_UI](..\fig\viz_mask_adjust_UI.png)

### FQA:

**Q：如果target_obj里面不只是有obj_1，还有obj_2, obj_3, 如何标注多个物体呢？**

1）命令参数的修改：

增加参数`--obj_num`  ， 必须是目前想要标注的物体数，eg:有三个物体，则输入

```
--num_objects 3
```

2）标注界面中切换标注物体：

- 左下角有一个target_object的选择框，可以选择目前需要标记的物体
- 也可以点击快捷键， 数字键`1` ， `2` ，`3` ,… 切换到对应的物体

3）切换后即可使用auto mode, paint mode, earse mode, color mask mode**进行标注mask,**



